<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Lojas e Produtos</title>
    <style>
        :root {
            --main-bg-color: #ffffff; 
            --main-text-color: #000000; 
        }
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: var(--main-bg-color); 
            color: var(--main-text-color); 
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .item {
            flex-basis: 45%;
            margin: 10px;
            text-align: center;
        }
        .item img {
            width: 100%;
            height: auto;
            cursor: pointer;
        }
        .dark-mode {
            position: fixed;
            top: 10px;
            right: 10px;
        }
        .carousel {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-padding: 50%;
            scroll-behavior: smooth;
        }
        .carousel img {
            scroll-snap-align: center;
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>

<div class="carousel" id="carousel">
</div>

<div class="container" id="lojasContainer">
</div>

<button class="dark-mode" onclick="toggleDarkMode()">Modo Escuro</button>

<script>
    function openHtml(productName) {
        window.open(productName + '.html', '_blank');
    }

    function toggleDarkMode() {
        let body = document.body;
        let darkModeButton = document.querySelector('.dark-mode');
        if (body.style.backgroundColor === 'rgb(255, 255, 255)') {
            body.style.backgroundColor = 'rgb(0, 0, 0)';
            body.style.color = 'rgb(255, 255, 255)';
            darkModeButton.textContent = 'Modo Claro';
        } else {
            body.style.backgroundColor = 'rgb(255, 255, 255)';
            body.style.color = 'rgb(0, 0, 0)';
            darkModeButton.textContent = 'Modo Escuro';
        }
    }

    let counter = 0;
    let images = document.querySelectorAll('.carousel img');
    setInterval(function() {
        counter++;
        if (counter === images.length) {
            counter = 0;
        }
        let carousel = document.getElementById('carousel');
        carousel.scrollLeft = images[counter].offsetLeft;
    }, 3000);

    // Função para carregar as imagens e lojas a partir do arquivo JSON
    async function carregarDados() {
        // Carregar imagens
        const imagensResponse = await fetch('./slides/imagens.json');
        const imagensData = await imagensResponse.json();
        const carousel = document.getElementById('carousel');

        imagensData.imagens.forEach(nomeImagem => {
            const img = document.createElement('img');
            img.src = `./slides/${nomeImagem}`;
            img.alt = `Slide ${nomeImagem.split('.')[0]}`;
            carousel.appendChild(img);
        });

        // Carregar lojas
        const lojasResponse = await fetch('./lojas/emporiobelezachic/imagens.json');
        const lojasData = await lojasResponse.json();
        const lojasContainer = document.getElementById('lojasContainer');

        lojasData.imagens.forEach(nomeImagem => {
            const divItem = document.createElement('div');
            divItem.className = 'item';
            divItem.onclick = () => openHtml(nomeImagem.split('.')[0]);
            
            const imgItem = document.createElement('img');
            imgItem.src = `./lojas/emporiobelezachic/logos/${nomeImagem}`;
            imgItem.alt = nomeImagem.split('.')[0];

            const pItem = document.createElement('p');
            pItem.textContent = nomeImagem.split('.')[0];

            divItem.appendChild(imgItem);
            divItem.appendChild(pItem);
            lojasContainer.appendChild(divItem);
        });
    }

    // Carregar os dados ao carregar a página
    window.onload = carregarDados;
</script>

</body>
</html>
